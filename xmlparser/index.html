<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script data-main="scripts/app/main" src="scripts/require.js"></script>
    <link href="Content/bootstrap.min.css" rel="stylesheet" />
    <link href="Content/font-awesome.min.css" rel="stylesheet" />
    <link href="Content/site.css" rel="stylesheet" />
    <link href="Content/flexboxgrid.min.css" rel="stylesheet" />
</head>
<body>
    <div style="display:block" data-bind="attr:{style:'display:none'}">
        <h1 style="font-size:4em; margin:100px 100px; color:magenta "><i class="fa fa-5x fa-spin fa-space-shuttle"></i></h1>
    </div>
    <div class="container-fluid" style="display:none" data-bind="attr:{style:'display:block'}">
        <h1>xpath 2.0 in the browser...</h1>
        <div class="row">
            <div class="col-xs-12  col-sm-6">
                <h2>xml</h2>
                <textarea rows="5" data-bind="value:xml, valueUpdate:'input'"></textarea>
            </div>
            <div class="col-xs-12  col-sm-6">
                <h2>xpath</h2>
                <textarea rows="5" data-bind="value:xpath, valueUpdate:'input'"></textarea>
            </div>
        </div>
            
            {{#xmlDoc:xml}}
                {{#xpathDestination:xpath}}
                    <div class="row">
                        <div class="col-xs-12  col-sm-6">
                            {{#with:$xmlDocError}}
                                <div class="attention">{{$data}}</div>
                            {{/with}}
                            {{#ifnot:$xmlDocError}}
                                {{#component:{name:'xml', params:{data:$xmlDoc, display:'xpath-picker'}}/}}
                            {{/ifnot}}
                        </div>
                        <div class="col-xs-12  col-sm-6">
                            {{#xpath:{xmlDoc:$xmlDoc, xpath:xpath}}}
                                {{#with:$xpathError}}
                                    <div class="attention">{{$data}}</div>
                                {{/with}}
                                <ul>
                                    {{#foreach:$xpath}} 
                                        <li>
                                            {{#component:{name:'xml', params:{data:$data, display:'xnode-display'}}/}}
                                        </li>
                                    {{/forreach}}
                                </ul>
                            {{/xpath}}
                        </div>
                    </div>
                {{/xpathDestination}}
            {{/xmlDoc}}
        </div>
    </body>
</html>
